{"ast":null,"code":"import { GET_ALL_PRODUCT, GET_NUMBER_CART, ADD_CART, DECREASE_QUANTITY, INCREASE_QUANTITY, DELETE_CART } from '../Actions/Actions';\nconst initialState = {\n  data: [],\n  numberCart: 0,\n  Carts: [],\n  showLoading: false\n};\nexport function ReduxProduct() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  console.log(action);\n  switch (action.type) {\n    case \"API_CALL_SUCCESS\":\n      return {\n        data: action.payload\n      };\n    case GET_NUMBER_CART:\n      return {\n        ...state\n      };\n    case ADD_CART:\n      if (state.numberCart == 0) {\n        let cart = {\n          id: action.payload.id,\n          quantity: 1,\n          name: action.payload.name,\n          image: action.payload.image,\n          price: action.payload.price\n        };\n        state.Carts.push(cart);\n      } else {\n        let check = false;\n        state.Carts.map((item, key) => {\n          if (item.id == action.payload.id) {\n            state.Carts[key].quantity++;\n            check = true;\n          }\n        });\n        if (!check) {\n          let _cart = {\n            id: action.payload.id,\n            quantity: 1,\n            name: action.payload.name,\n            image: action.payload.image,\n            price: action.payload.price\n          };\n          state.Carts.push(_cart);\n        }\n      }\n      return {\n        ...state,\n        numberCart: state.numberCart + 1\n      };\n    case INCREASE_QUANTITY:\n      state.numberCart++;\n      state.Carts[action.payload].quantity++;\n      return {\n        ...state\n      };\n    case DECREASE_QUANTITY:\n      let quantity = state.Carts[action.payload].quantity;\n      if (quantity > 1) {\n        state.numberCart--;\n        state.Carts[action.payload].quantity--;\n      }\n      return {\n        ...state\n      };\n    case DELETE_CART:\n      let quantity_ = state.Carts[action.payload].quantity;\n      return {\n        ...state,\n        numberCart: state.numberCart - quantity_,\n        Carts: state.Carts.filter(item => {\n          return item.id != state.Carts[action.payload].id;\n        })\n      };\n    default:\n      return state;\n  }\n}\n\n//1. state\n//2.reducer\n//3, actions {type: \"sfcsdc\",\n// payload: {key: \"value\", nfjacakc}, fkjbfak, }\n\n//4. dispath({\n//type: \"API_CALL_SUCCESS\",\n//payload: {\n//         name: \"abc\"\n//     }\n// })\n_c = ReduxProduct;\nvar _c;\n$RefreshReg$(_c, \"ReduxProduct\");","map":{"version":3,"names":["GET_ALL_PRODUCT","GET_NUMBER_CART","ADD_CART","DECREASE_QUANTITY","INCREASE_QUANTITY","DELETE_CART","initialState","data","numberCart","Carts","showLoading","ReduxProduct","state","action","console","log","type","payload","cart","id","quantity","name","image","price","push","check","map","item","key","_cart","quantity_","filter"],"sources":["D:/Hoc/Workspace/Frontend/MockProject/ShoppingCart/cart/src/db/Redux/Reducers/ReduxProduct.js"],"sourcesContent":["import {GET_ALL_PRODUCT,GET_NUMBER_CART,ADD_CART, DECREASE_QUANTITY, INCREASE_QUANTITY, DELETE_CART} from '../Actions/Actions'\r\nconst initialState = {\r\n  data: [],\r\n  numberCart: 0,\r\n  Carts: [],\r\n  showLoading: false,\r\n};\r\nexport function ReduxProduct(state = initialState, action) {\r\n  console.log(action);\r\n  switch (action.type) {\r\n    case \"API_CALL_SUCCESS\":\r\n      return {\r\n        data: action.payload,\r\n      };\r\n       case GET_NUMBER_CART:\r\n                        return{\r\n                            ...state\r\n                        }\r\n                case ADD_CART:\r\n                    if(state.numberCart==0){\r\n                        let cart = {\r\n                            id:action.payload.id,\r\n                            quantity:1,\r\n                            name:action.payload.name,\r\n                            image:action.payload.image,\r\n                            price:action.payload.price\r\n                        }\r\n                        state.Carts.push(cart);\r\n                    }\r\n                    else{\r\n                        let check = false;\r\n                        state.Carts.map((item,key)=>{\r\n                            if(item.id==action.payload.id){\r\n                                state.Carts[key].quantity++;\r\n                                check=true;\r\n                            }\r\n                        });\r\n                        if(!check){\r\n                            let _cart = {\r\n                                id:action.payload.id,\r\n                                quantity:1,\r\n                                name:action.payload.name,\r\n                                image:action.payload.image,\r\n                                price:action.payload.price\r\n                            }\r\n                            state.Carts.push(_cart);\r\n                        }\r\n                    }\r\n                    return{\r\n                        ...state,\r\n                        numberCart:state.numberCart+1\r\n                    }\r\n                    case INCREASE_QUANTITY:\r\n                        state.numberCart++\r\n                        state.Carts[action.payload].quantity++;\r\n                       \r\n                       return{\r\n                           ...state\r\n                       }\r\n                    case DECREASE_QUANTITY:\r\n                        let quantity = state.Carts[action.payload].quantity;\r\n                        if(quantity>1){\r\n                            state.numberCart--;\r\n                            state.Carts[action.payload].quantity--;\r\n                        }\r\n                       \r\n                        return{\r\n                            ...state\r\n                        }\r\n                    case DELETE_CART:\r\n                        let quantity_ = state.Carts[action.payload].quantity;\r\n                        return{\r\n                            ...state,\r\n                            numberCart:state.numberCart - quantity_,\r\n                            Carts:state.Carts.filter(item=>{\r\n                                return item.id!=state.Carts[action.payload].id\r\n                            })\r\n                            \r\n                        }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n//1. state\r\n//2.reducer\r\n//3, actions {type: \"sfcsdc\",\r\n// payload: {key: \"value\", nfjacakc}, fkjbfak, }\r\n\r\n//4. dispath({\r\n//type: \"API_CALL_SUCCESS\",\r\n//payload: {\r\n//         name: \"abc\"\r\n//     }\r\n// })\r\n"],"mappings":"AAAA,SAAQA,eAAe,EAACC,eAAe,EAACC,QAAQ,EAAEC,iBAAiB,EAAEC,iBAAiB,EAAEC,WAAW,QAAO,oBAAoB;AAC9H,MAAMC,YAAY,GAAG;EACnBC,IAAI,EAAE,EAAE;EACRC,UAAU,EAAE,CAAC;EACbC,KAAK,EAAE,EAAE;EACTC,WAAW,EAAE;AACf,CAAC;AACD,OAAO,SAASC,YAAY,GAA+B;EAAA,IAA9BC,KAAK,uEAAGN,YAAY;EAAA,IAAEO,MAAM;EACvDC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC;EACnB,QAAQA,MAAM,CAACG,IAAI;IACjB,KAAK,kBAAkB;MACrB,OAAO;QACLT,IAAI,EAAEM,MAAM,CAACI;MACf,CAAC;IACA,KAAKhB,eAAe;MACH,OAAM;QACF,GAAGW;MACP,CAAC;IACT,KAAKV,QAAQ;MACT,IAAGU,KAAK,CAACJ,UAAU,IAAE,CAAC,EAAC;QACnB,IAAIU,IAAI,GAAG;UACPC,EAAE,EAACN,MAAM,CAACI,OAAO,CAACE,EAAE;UACpBC,QAAQ,EAAC,CAAC;UACVC,IAAI,EAACR,MAAM,CAACI,OAAO,CAACI,IAAI;UACxBC,KAAK,EAACT,MAAM,CAACI,OAAO,CAACK,KAAK;UAC1BC,KAAK,EAACV,MAAM,CAACI,OAAO,CAACM;QACzB,CAAC;QACDX,KAAK,CAACH,KAAK,CAACe,IAAI,CAACN,IAAI,CAAC;MAC1B,CAAC,MACG;QACA,IAAIO,KAAK,GAAG,KAAK;QACjBb,KAAK,CAACH,KAAK,CAACiB,GAAG,CAAC,CAACC,IAAI,EAACC,GAAG,KAAG;UACxB,IAAGD,IAAI,CAACR,EAAE,IAAEN,MAAM,CAACI,OAAO,CAACE,EAAE,EAAC;YAC1BP,KAAK,CAACH,KAAK,CAACmB,GAAG,CAAC,CAACR,QAAQ,EAAE;YAC3BK,KAAK,GAAC,IAAI;UACd;QACJ,CAAC,CAAC;QACF,IAAG,CAACA,KAAK,EAAC;UACN,IAAII,KAAK,GAAG;YACRV,EAAE,EAACN,MAAM,CAACI,OAAO,CAACE,EAAE;YACpBC,QAAQ,EAAC,CAAC;YACVC,IAAI,EAACR,MAAM,CAACI,OAAO,CAACI,IAAI;YACxBC,KAAK,EAACT,MAAM,CAACI,OAAO,CAACK,KAAK;YAC1BC,KAAK,EAACV,MAAM,CAACI,OAAO,CAACM;UACzB,CAAC;UACDX,KAAK,CAACH,KAAK,CAACe,IAAI,CAACK,KAAK,CAAC;QAC3B;MACJ;MACA,OAAM;QACF,GAAGjB,KAAK;QACRJ,UAAU,EAACI,KAAK,CAACJ,UAAU,GAAC;MAChC,CAAC;IACD,KAAKJ,iBAAiB;MAClBQ,KAAK,CAACJ,UAAU,EAAE;MAClBI,KAAK,CAACH,KAAK,CAACI,MAAM,CAACI,OAAO,CAAC,CAACG,QAAQ,EAAE;MAEvC,OAAM;QACF,GAAGR;MACP,CAAC;IACJ,KAAKT,iBAAiB;MAClB,IAAIiB,QAAQ,GAAGR,KAAK,CAACH,KAAK,CAACI,MAAM,CAACI,OAAO,CAAC,CAACG,QAAQ;MACnD,IAAGA,QAAQ,GAAC,CAAC,EAAC;QACVR,KAAK,CAACJ,UAAU,EAAE;QAClBI,KAAK,CAACH,KAAK,CAACI,MAAM,CAACI,OAAO,CAAC,CAACG,QAAQ,EAAE;MAC1C;MAEA,OAAM;QACF,GAAGR;MACP,CAAC;IACL,KAAKP,WAAW;MACZ,IAAIyB,SAAS,GAAGlB,KAAK,CAACH,KAAK,CAACI,MAAM,CAACI,OAAO,CAAC,CAACG,QAAQ;MACpD,OAAM;QACF,GAAGR,KAAK;QACRJ,UAAU,EAACI,KAAK,CAACJ,UAAU,GAAGsB,SAAS;QACvCrB,KAAK,EAACG,KAAK,CAACH,KAAK,CAACsB,MAAM,CAACJ,IAAI,IAAE;UAC3B,OAAOA,IAAI,CAACR,EAAE,IAAEP,KAAK,CAACH,KAAK,CAACI,MAAM,CAACI,OAAO,CAAC,CAACE,EAAE;QAClD,CAAC;MAEL,CAAC;IACrB;MACE,OAAOP,KAAK;EAAC;AAEnB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA,KAvFgBD,YAAY;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}